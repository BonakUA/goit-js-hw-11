{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createMarkup = images => {\n    return images.reduce(\n        (\n            html,\n            { tags, webformatURL, largeImageURL, likes, views, comments, downloads }\n        ) => {\n            return (\n                html +\n                `<li class=\"photo-container\">\n      <a href=${largeImageURL} class=\"card-link js-card-link\">\n          <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\" >\n      </a>\n      <div class=\"info\">\n          <div class=\"info-item\">\n              <span class=\"title\">Likes</span>\n              <span class=\"info\">${likes}</span>\n          </div>\n          <div class=\"info-item\">\n              <span class=\"title\">Views</span>\n              <span class=\"info\">${views}</span>\n          </div>\n          <div class=\"info-item\">\n              <span class=\"title\">Comments</span>\n              <span class=\"info\">${comments}</span>\n          </div>\n          <div class=\"info-item\">\n              <span class=\"title\">Downloads</span>\n              <span class=\"info\">${downloads}</span>\n          </div>\n      </div>\n  </li>\n      `\n            );\n        },\n        ''\n    );\n};","const API_KEY = '43981018-e90bba841625934206eceb401';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport const fetchPhotos = searchImage => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchImage,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 21,\n  });\n  return fetch(`${BASE_URL}/?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n    return response.json();\n  });\n};","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { createMarkup } from './js/render-functions';\nimport { fetchPhotos } from './js/pixabay-api';\n\nconst imgContainer = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\nlet lightbox;\n\nfunction onSearch(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.text.value.trim();\n    imgContainer.innerHTML = '';\n    if (searchQuery === '') {\n        return iziToast.error({\n            message:\n                'Sorry, there are no images matching your search query. Please try again!',\n        });\n    }\n    imgContainer.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n    fetchPhotos(searchQuery)\n        .then(imagesData => {\n            if (imagesData.hits.length === 0) {\n                iziToast.error({\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                });\n                return; \n            }\n            imgContainer.innerHTML = createMarkup(imagesData.hits);\n            if (lightbox) {\n                lightbox.refresh(); \n            } else {\n                lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                });\n            }\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('is-hidden');\n        });\n}\n\nform.addEventListener('submit', onSearch);"],"names":["createMarkup","images","html","tags","webformatURL","largeImageURL","likes","views","comments","downloads","API_KEY","BASE_URL","fetchPhotos","searchImage","params","response","imgContainer","form","loaderEl","lightbox","onSearch","event","searchQuery","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,EAAeC,GACjBA,EAAO,OACV,CACIC,EACA,CAAE,KAAAC,EAAM,aAAAC,EAAc,cAAAC,EAAe,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAGpEP,EACA;AAAA,gBACAG,CAAa;AAAA,oCACOD,CAAY,UAAUD,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mCAK3BG,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,QAOpC,EACR,ECnCMC,EAAU,qCACVC,EAAW,2BACJC,EAAcC,GAAe,CACxC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACtD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACR,0EACR,EAEI,OAAOA,EAAS,MACpB,CAAG,CACH,ECZMC,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAW,SAAS,cAAc,SAAS,EACjD,IAAIC,EAEJ,SAASC,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,KAAK,MAAM,OAErD,GADAL,EAAa,UAAY,GACrBM,IAAgB,GAChB,OAAOC,EAAS,MAAM,CAClB,QACI,0EAChB,CAAS,EAELP,EAAa,UAAY,GACzBE,EAAS,UAAU,OAAO,WAAW,EACrCN,EAAYU,CAAW,EAClB,KAAKE,GAAc,CAChB,GAAIA,EAAW,KAAK,SAAW,EAAG,CAC9BD,EAAS,MAAM,CACX,QACI,0EACxB,CAAiB,EACD,MACH,CACDP,EAAa,UAAYhB,EAAawB,EAAW,IAAI,EACjDL,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAClC,CAAiB,CAEjB,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAM,OAAO,QACbH,EAAS,UAAU,IAAI,WAAW,CAC9C,CAAS,CACT,CAEAD,EAAK,iBAAiB,SAAUG,CAAQ"}